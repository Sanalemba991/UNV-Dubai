import{createElement,Fragment}from"react";var R=0,j=1,X=2,D=new Set(["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]),x=new Set(["script","style"]),o=/(?:<(\/?)([a-zA-Z][a-zA-Z0-9\:-]*)(?:\s([^>]*?))?((?:\s*\/)?)>|(<\!\-\-)([\s\S]*?)(\-\->)|(<\!)([\s\S]*?)(>))/gm,b=/[\@\.a-z0-9_\:\-]/i;function I(e){let t={};if(e){let n,l,a,r="none",s="";for(let i=0;i<e.length;i++){let o=e[i];"none"===r?b.test(o)?(n&&(t[n]=s,n=void 0,s=""),l=i,r="key"):"="===o&&n&&(r="value"):"key"===r?b.test(o)||(n=e.substring(l,i),r="="===o?"value":"none"):o===a&&i>0&&"\\"!==e[i-1]?a&&(s=e.substring(l,i),a=void 0,r="none"):('"'===o||"'"===o)&&!a&&(l=i+1,a=o)}"key"===r&&null!=l&&l<e.length&&(n=e.substring(l,e.length)),n&&(t[n]=s)}return t}function P(e){let t,n,l,a,r,s,i,h,c,d="string"==typeof e?e:e.value,u=[];o.lastIndex=0,n=t={type:0,children:[]};let p=0;function g(){a=d.substring(p,o.lastIndex-l[0].length),a&&n.children.push({type:2,value:a,parent:n})}for(;l=o.exec(d);)if(s=l[5]||l[8],i=l[6]||l[9],h=l[7]||l[10],x.has(n.name)&&l[2]!==n.name)r=o.lastIndex-l[0].length,n.children.length>0&&(n.children[0].value+=l[0]);else{if("\x3c!--"===s){if(r=o.lastIndex-l[0].length,x.has(n.name))continue;c={type:3,value:i,parent:n,loc:[{start:r,end:r+s.length},{start:o.lastIndex-h.length,end:o.lastIndex}]},u.push(c),c.parent.children.push(c)}else if("<!"===s)r=o.lastIndex-l[0].length,c={type:4,value:i,parent:n,loc:[{start:r,end:r+s.length},{start:o.lastIndex-h.length,end:o.lastIndex}]},u.push(c),c.parent.children.push(c);else if("/"!==l[1]){if(g(),x.has(n.name)){p=o.lastIndex,g();continue}c={type:1,name:l[2]+"",attributes:I(l[3]),parent:n,children:[],loc:[{start:o.lastIndex-l[0].length,end:o.lastIndex}]},u.push(c),c.parent.children.push(c),l[4]&&l[4].indexOf("/")>-1||D.has(c.name)?(c.loc[1]=c.loc[0],c.isSelfClosingTag=!0):n=c}else g(),l[2]+""===n.name?(c=n,n=c.parent,c.loc.push({start:o.lastIndex-l[0].length,end:o.lastIndex}),a=d.substring(c.loc[0].end,c.loc[1].start),0===c.children.length&&c.children.push({type:2,value:a,parent:n})):l[2]+""===u[u.length-1].name&&!0===u[u.length-1].isSelfClosingTag&&(c=u[u.length-1],c.loc.push({start:o.lastIndex-l[0].length,end:o.lastIndex}));p=o.lastIndex}return a=d.slice(p),n.children.push({type:2,value:a,parent:n}),t}let ids=0;function convert(e){let t=P(e.toString().trim()),n=ids++,l=0;const a=function e(t){const a=Array.isArray(t.children)&&t.children.length?t.children.map((t=>e(t))).filter(Boolean):void 0;if(t.type===R)return createElement(Fragment,{},a);if(t.type===j){const{class:e,...r}=t.attributes;return createElement(t.name,{...r,className:e,key:`${n}-${l++}`},a)}return t.type===X&&t.value.trim()?t.value:void 0}(t);return a.props.children}export{convert as default};
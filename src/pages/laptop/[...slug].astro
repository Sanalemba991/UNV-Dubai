---
import Layout from "../../layouts/Layout.astro";
import { getCollection } from "astro:content";

// Fetch all products from the "laptop" collection
export async function getStaticPaths() {
    const products = await getCollection("laptop");

    // Generate static paths for each product
    return products.map((product) => ({
        params: { slug: product.slug }, // Use slug as the URL parameter
        props: { product: product.data }, // Pass the product data
    }));
}

// Access the product data passed from getStaticPaths
const { product } = Astro.props;
---

<Layout>
  <div class="max-w-xs w-full bg-white shadow-lg rounded-lg overflow-hidden hover:scale-105 transform transition-all duration-300">
    <img
      src={product.imageCard.src} 
      alt={product.title}
      class="w-full h-48 object-cover"
    />
    <div class="p-4">
      <h3 class="text-lg font-semibold text-gray-700 mb-4">
        {product.title}
      </h3>
      <p class="text-sm text-gray-600 mb-4">
        {product.body} <!-- Use body from the product data -->
      </p>
      <a href="#" class="text-blue-500 hover:text-blue-700">
        Explore
      </a>
    </div>
  </div>
</Layout>